"use strict";angular.module("konczakpiotrcvApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch","LocalStorageModule","ui.bootstrap","ngAnimate-animate.css"]).config(["$routeProvider",function(a){a.when("/allInOnePage",{templateUrl:"views/main.html",controller:"MainCtrl",resolve:{personalData:["personalData",function(a){return a.getPersonalData()}],socialLinks:["socialLinks",function(a){return a.getSocialLinks()}],courses:["courses",function(a){return a.getCourses()}],jobs:["jobs",function(a){return a.getJobs()}],mainSkills:["skills",function(a){return a.getMainSkills()}],categories:["skills",function(a){return a.getOtherSkills()}],projects:["projects",function(a){return a.getProjects()}],todos:["todo",function(a){return a.getTodos()}]}}).when("/personalDetails",{templateUrl:"views/personaldetails.html",controller:"PersonaldetailsCtrl",resolve:{personalData:["personalData",function(a){return a.getPersonalData()}],socialLinks:["socialLinks",function(a){return a.getSocialLinks()}]}}).when("/experiences",{templateUrl:"views/experiences.html",controller:"ExperiencesCtrl",resolve:{jobs:["jobs",function(a){return a.getJobs()}]}}).when("/skills",{templateUrl:"views/skills.html",controller:"SkillsCtrl",resolve:{mainSkills:["skills",function(a){return a.getMainSkills()}],categories:["skills",function(a){return a.getOtherSkills()}]}}).when("/education",{templateUrl:"views/education.html",controller:"EducationCtrl",resolve:{courses:["courses",function(a){return a.getCourses()}]}}).when("/projects",{templateUrl:"views/projects.html",controller:"ProjectsCtrl",resolve:{projects:["projects",function(a){return a.getProjects()}]}}).when("/todo",{templateUrl:"views/todo.html",controller:"TodoCtrl",resolve:{todos:["todo",function(a){return a.getTodos()}]}}).otherwise({redirectTo:"/personalDetails"})}]).config(["localStorageServiceProvider",function(a){a.setPrefix("konczakpiotrcv")}]).factory("moment",function(){return{parse:moment}}).run(["$rootScope",function(a){a.$on("$routeChangeStart",function(){a.loadingView=!0}),a.$on("$routeChangeSuccess",function(){a.loadingView=!1})}]),angular.module("konczakpiotrcvApp").controller("MainCtrl",["$scope","personalData","socialLinks","courses","jobs","mainSkills","categories","projects","todos",function(a,b,c,d,e,f,g,h,i){a.vo={personalData:b,socialLinks:c,courses:d,jobs:e,mainSkills:f,categories:g,projects:h,showOthers:!1,todos:i}}]),angular.module("konczakpiotrcvApp").controller("PersonaldetailsCtrl",["$scope","personalData","socialLinks",function(a,b,c){a.vo={personalData:b,socialLinks:c}}]),angular.module("konczakpiotrcvApp").controller("ExperiencesCtrl",["$scope","jobs",function(a,b){a.vo={jobs:b}}]),angular.module("konczakpiotrcvApp").controller("SkillsCtrl",["$scope","mainSkills","categories",function(a,b,c){a.vo={mainSkills:b,categories:c,showOthers:!1}}]),angular.module("konczakpiotrcvApp").controller("EducationCtrl",["$scope","courses",function(a,b){a.vo={courses:b}}]),angular.module("konczakpiotrcvApp").controller("MenuCtrl",["$scope","$location","$timeout","localStorageService",function(a,b,c,d){a.isActive=function(a){return a===b.path()};var e=6048e5;if(d.isSupported){var f=d.get("expiresAt");if(f&&(new Date).getTime()-f.timestamp>0)d.clearAll();else{var g={timestamp:(new Date).getTime()+e};d.set("expiresAt",JSON.stringify(g))}}}]),angular.module("konczakpiotrcvApp").factory("courses",["$q","$timeout","$http","localStorageService",function(a,b,c,d){return{getCourses:function(){var e=a.defer();return b(function(){if(d.isSupported){var a=d.get("courses");a?e.resolve(a):c.get("data/courses.json").success(function(a){d.set("courses",JSON.stringify(a.courses)),e.resolve(a.courses)})}else c.get("data/courses.json").success(function(a){e.resolve(a.courses)})},30),e.promise}}}]),angular.module("konczakpiotrcvApp").filter("showMoreWhenTooLong",function(){return function(a,b,c,d,e){if(!a)return"";if(!b)return a;if(d=parseInt(d,10),!d)return a;if(a.length<=d)return a;if(a=a.substr(0,d),c){var f=a.lastIndexOf(" ");-1!==f&&(a=a.substr(0,f))}return a+(e||"...")}}),angular.module("konczakpiotrcvApp").factory("personalData",["$q","$timeout","$http","localStorageService",function(a,b,c,d){return{getPersonalData:function(){var e=a.defer();return b(function(){if(d.isSupported){var a=d.get("personaldata");a?e.resolve(a):c.get("data/personaldata.json").success(function(a){d.set("personaldata",JSON.stringify(a)),e.resolve(a)})}else c.get("data/personaldata.json").success(function(a){e.resolve(a)})},30),e.promise}}}]),angular.module("konczakpiotrcvApp").factory("socialLinks",["$q","$timeout","$http","localStorageService",function(a,b,c,d){return{getSocialLinks:function(){var e=a.defer();return b(function(){if(d.isSupported){var a=d.get("sociallinks");a?e.resolve(a):c.get("data/sociallinks.json").success(function(a){d.set("sociallinks",JSON.stringify(a)),e.resolve(a)})}else c.get("data/sociallinks.json").success(function(a){e.resolve(a)})},30),e.promise}}}]),angular.module("konczakpiotrcvApp").factory("skills",["$q","$timeout","$http","localStorageService",function(a,b,c,d){function e(a){return a>=75?"success":a>=50?"info":a>=25?"warning":"danger"}function f(a){angular.forEach(a,function(a){a.type=e(a.percent)})}return{getMainSkills:function(){var e=a.defer();return b(function(){if(d.isSupported){var a=d.get("skillsmain");a?e.resolve(a):c.get("data/skillsmain.json").success(function(a){var b=a.skills;f(b),d.set("skillsmain",JSON.stringify(b)),e.resolve(b)})}else c.get("data/skillsmain.json").success(function(a){var b=a.skills;f(b),e.resolve(b)})},30),e.promise},getOtherSkills:function(){var e=a.defer();return b(function(){if(d.isSupported){var a=d.get("skillsother");a?e.resolve(a):c.get("data/skillsother.json").success(function(a){var b=a.categories;angular.forEach(b,function(a){f(a.skills)}),d.set("skillsother",JSON.stringify(b)),e.resolve(b)})}else c.get("data/skillsother.json").success(function(a){var b=a.categories;angular.forEach(b,function(a){f(a.skills)}),e.resolve(b)})},30),e.promise}}}]),angular.module("konczakpiotrcvApp").factory("projects",["$q","$timeout","$http","localStorageService",function(a,b,c,d){return{getProjects:function(){var e=a.defer();return b(function(){if(d.isSupported){var a=d.get("projects");a?e.resolve(a):c.get("data/projects.json").success(function(a){d.set("projects",JSON.stringify(a.projects)),e.resolve(a.projects)})}else c.get("data/projects.json").success(function(a){e.resolve(a.projects)})},30),e.promise}}}]),angular.module("konczakpiotrcvApp").factory("jobs",["$q","$timeout","$http","localStorageService",function(a,b,c,d){return{getJobs:function(){var e=a.defer();return b(function(){if(d.isSupported){var a=d.get("jobs");a?e.resolve(a):c.get("data/jobs.json").success(function(a){d.set("jobs",JSON.stringify(a.jobs)),e.resolve(a.jobs)})}else c.get("data/jobs.json").success(function(a){e.resolve(a.jobs)})},30),e.promise}}}]),angular.module("konczakpiotrcvApp").controller("ProjectsCtrl",["$scope","projects",function(a,b){a.vo={projects:b}}]),angular.module("konczakpiotrcvApp").controller("NavigationCtrl",["$scope","$location",function(a,b){function c(){var a=g.indexOf(b.path());return 0>=a||a>=g.length?!1:!0}function d(){var a=g.indexOf(b.path());return 0>a||a>=g.length-1?!1:!0}function e(){var a=g.indexOf(b.path());0>a||a>=g.length||0!==a&&(a--,b.path(g[a]))}function f(){var a=g.indexOf(b.path());0>a||a>=g.length||a!==g.length-1&&(a++,b.path(g[a]))}a.vo={};var g=["/personalDetails","/education","/experiences","/projects","/skills","/todo","/allInOnePage"];a.vo.openPrevious=e,a.vo.openNext=f,a.vo.hasPrevious=c,a.vo.hasNext=d}]),angular.module("konczakpiotrcvApp").controller("TodoCtrl",["$scope","todos",function(a,b){a.vo={todos:b}}]),angular.module("konczakpiotrcvApp").factory("todo",["$q","$timeout","$http","localStorageService",function(a,b,c,d){return{getTodos:function(){var e=a.defer();return b(function(){if(d.isSupported){var a=d.get("todos");a?e.resolve(a):c.get("data/todo.json").success(function(a){d.set("todos",JSON.stringify(a.todos)),e.resolve(a.todos)})}else c.get("data/todo.json").success(function(a){e.resolve(a.todos)})},30),e.promise}}}]),angular.module("konczakpiotrcvApp").controller("FooterCtrl",["$scope","metadata",function(a,b){a.vo={version:null},b.getMetadata().then(function(b){a.vo.version=b.version})}]),angular.module("konczakpiotrcvApp").factory("metadata",["$q","$timeout","$http","localStorageService",function(a,b,c,d){return{getMetadata:function(){var e=a.defer();return b(function(){if(d.isSupported){var a=d.get("metadata");a?e.resolve(a):c.get("data/metadata.json").success(function(a){d.set("metadata",JSON.stringify(a)),e.resolve(a)})}else c.get("data/metadata.json").success(function(a){e.resolve(a)})},30),e.promise}}}]),angular.module("konczakpiotrcvApp").controller("HeadingCtrl",["$scope","moment","metadata",function(a,b,c){a.vo={updatedAt:null},c.getMetadata().then(function(c){a.vo.updatedAt=b.parse(c.date,"DD/MM/YYYY").format("dddd, Do MMMM YYYY")})}]);