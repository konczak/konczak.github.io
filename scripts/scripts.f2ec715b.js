"use strict";angular.module("konczakpiotrcvApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch","LocalStorageModule","pascalprecht.translate","ui.bootstrap","ngAnimate-animate.css"]).config(["$routeProvider",function(a){a.when("/allInOnePage",{templateUrl:"views/main.html",controller:"MainCtrl",resolve:{personalData:["personalData",function(a){return a.getPersonalData()}],socialLinks:["socialLinks",function(a){return a.getSocialLinks()}],courses:["courses",function(a){return a.getCourses()}],jobs:["jobs",function(a){return a.getJobs()}],mainSkills:["skills",function(a){return a.getMainSkills()}],categories:["skills",function(a){return a.getOtherSkills()}],projects:["projects",function(a){return a.getProjects()}],todos:["todo",function(a){return a.getTodos()}],allInOnePagePartialLoader:["$translate","$translatePartialLoader",function(a,b){return b.addPart("personalDetails"),b.addPart("experiences"),b.addPart("skills"),b.addPart("education"),b.addPart("projects"),b.addPart("todo"),a.refresh()}]}}).when("/personalDetails",{templateUrl:"views/personaldetails.html",controller:"PersonaldetailsCtrl",resolve:{personalData:["personalData",function(a){return a.getPersonalData()}],socialLinks:["socialLinks",function(a){return a.getSocialLinks()}],personalDetailsPartialLoader:["$translate","$translatePartialLoader",function(a,b){return b.addPart("personalDetails"),a.refresh()}]}}).when("/experiences",{templateUrl:"views/experiences.html",controller:"ExperiencesCtrl",resolve:{jobs:["jobs",function(a){return a.getJobs()}],experiencesPartialLoader:["$translate","$translatePartialLoader",function(a,b){return b.addPart("experiences"),a.refresh()}]}}).when("/skills",{templateUrl:"views/skills.html",controller:"SkillsCtrl",resolve:{mainSkills:["skills",function(a){return a.getMainSkills()}],categories:["skills",function(a){return a.getOtherSkills()}],skillsPartialLoader:["$translate","$translatePartialLoader",function(a,b){return b.addPart("skills"),a.refresh()}]}}).when("/education",{templateUrl:"views/education.html",controller:"EducationCtrl",resolve:{courses:["courses",function(a){return a.getCourses()}],educationPartialLoader:["$translate","$translatePartialLoader",function(a,b){return b.addPart("education"),a.refresh()}]}}).when("/projects",{templateUrl:"views/projects.html",controller:"ProjectsCtrl",resolve:{projects:["projects",function(a){return a.getProjects()}],projectsPartialLoader:["$translate","$translatePartialLoader",function(a,b){return b.addPart("projects"),a.refresh()}]}}).when("/todo",{templateUrl:"views/todo.html",controller:"TodoCtrl",resolve:{todos:["todo",function(a){return a.getTodos()}],todoPartialLoader:["$translate","$translatePartialLoader",function(a,b){return b.addPart("todo"),a.refresh()}]}}).otherwise({redirectTo:"/personalDetails"})}]).config(["localStorageServiceProvider",function(a){a.setPrefix("konczakpiotrcv")}]).config(["$translateProvider",function(a){a.useLoader("$translatePartialLoader",{urlTemplate:"i18n/{lang}/{part}.json"}),a.preferredLanguage("en-gb"),a.useStorage("customStorage")}]).run(["$rootScope",function(a){a.$on("$routeChangeStart",function(){a.loadingView=!0}),a.$on("$routeChangeSuccess",function(){a.loadingView=!1})}]),angular.module("konczakpiotrcvApp").controller("MainCtrl",["$scope","personalData","socialLinks","courses","jobs","mainSkills","categories","projects","todos",function(a,b,c,d,e,f,g,h,i){a.vo={personalData:b,socialLinks:c,courses:d,jobs:e,mainSkills:f,categories:g,projects:h,showOthers:!1,todos:i}}]),angular.module("konczakpiotrcvApp").controller("PersonaldetailsCtrl",["$scope","personalData","socialLinks",function(a,b,c){a.vo={personalData:b,socialLinks:c}}]),angular.module("konczakpiotrcvApp").controller("ExperiencesCtrl",["$scope","jobs",function(a,b){a.vo={jobs:b}}]),angular.module("konczakpiotrcvApp").controller("SkillsCtrl",["$scope","mainSkills","categories",function(a,b,c){a.vo={mainSkills:b,categories:c,showOthers:!1}}]),angular.module("konczakpiotrcvApp").controller("EducationCtrl",["$scope","$translate","courses",function(a,b,c){a.vo={courses:c,actualLanguage:b.use()}}]),angular.module("konczakpiotrcvApp").controller("MenuCtrl",["$scope","$location","momentService","$translate","$translatePartialLoader","localStorageService",function(a,b,c,d,e,f){a.isActive=function(a){return a===b.path()};var g=6048e5;if(f.isSupported){var h=f.get("expiresAt");if(h&&(new Date).getTime()-h.timestamp>0)f.clearAll();else{var i={timestamp:(new Date).getTime()+g};f.set("expiresAt",JSON.stringify(i))}}a.changeLanguageTo=function(a){c.locale(a),d.use(a)},e.addPart("menu"),d.refresh(),a.isActualLanguage=function(a){return a===d.use()}}]),angular.module("konczakpiotrcvApp").factory("courses",["$q","$timeout","$http","$translate","localStorageService",function(a,b,c,d,e){function f(a){angular.forEach(a,function(a){a.name=function(){return"en-gb"===d.use()?this.nameEngb:"pl"===d.use()?this.namePl:""},a.description=function(){return"en-gb"===d.use()?this.descriptionEngb:"pl"===d.use()?this.descriptionPl:""}})}return{getCourses:function(){var d=a.defer();return b(function(){if(e.isSupported){var a=e.get("courses");a?(f(a),d.resolve(a)):c.get("data/courses.json").success(function(a){f(a.courses),e.set("courses",JSON.stringify(a.courses)),d.resolve(a.courses)})}else c.get("data/courses.json").success(function(a){f(a.courses),d.resolve(a.courses)})},30),d.promise}}}]),angular.module("konczakpiotrcvApp").filter("showMoreWhenTooLong",function(){return function(a,b,c,d,e){if(!a)return"";if(!b)return a;if(d=parseInt(d,10),!d)return a;if(a.length<=d)return a;if(a=a.substr(0,d),c){var f=a.lastIndexOf(" ");-1!==f&&(a=a.substr(0,f))}return a+(e||"...")}}),angular.module("konczakpiotrcvApp").factory("personalData",["$q","$timeout","$http","localStorageService",function(a,b,c,d){return{getPersonalData:function(){var e=a.defer();return b(function(){if(d.isSupported){var a=d.get("personaldata");a?e.resolve(a):c.get("data/personaldata.json").success(function(a){d.set("personaldata",JSON.stringify(a)),e.resolve(a)})}else c.get("data/personaldata.json").success(function(a){e.resolve(a)})},30),e.promise}}}]),angular.module("konczakpiotrcvApp").factory("socialLinks",["$q","$timeout","$http","localStorageService",function(a,b,c,d){return{getSocialLinks:function(){var e=a.defer();return b(function(){if(d.isSupported){var a=d.get("sociallinks");a?e.resolve(a):c.get("data/sociallinks.json").success(function(a){d.set("sociallinks",JSON.stringify(a)),e.resolve(a)})}else c.get("data/sociallinks.json").success(function(a){e.resolve(a)})},30),e.promise}}}]),angular.module("konczakpiotrcvApp").factory("skills",["$q","$timeout","$http","localStorageService",function(a,b,c,d){function e(a){return a>=75?"success":a>=50?"info":a>=25?"warning":"danger"}function f(a){angular.forEach(a,function(a){a.type=e(a.percent)})}return{getMainSkills:function(){var e=a.defer();return b(function(){if(d.isSupported){var a=d.get("skillsmain");a?e.resolve(a):c.get("data/skillsmain.json").success(function(a){var b=a.skills;f(b),d.set("skillsmain",JSON.stringify(b)),e.resolve(b)})}else c.get("data/skillsmain.json").success(function(a){var b=a.skills;f(b),e.resolve(b)})},30),e.promise},getOtherSkills:function(){var e=a.defer();return b(function(){if(d.isSupported){var a=d.get("skillsother");a?e.resolve(a):c.get("data/skillsother.json").success(function(a){var b=a.categories;angular.forEach(b,function(a){f(a.skills)}),d.set("skillsother",JSON.stringify(b)),e.resolve(b)})}else c.get("data/skillsother.json").success(function(a){var b=a.categories;angular.forEach(b,function(a){f(a.skills)}),e.resolve(b)})},30),e.promise}}}]),angular.module("konczakpiotrcvApp").factory("projects",["$q","$timeout","$http","localStorageService",function(a,b,c,d){return{getProjects:function(){var e=a.defer();return b(function(){if(d.isSupported){var a=d.get("projects");a?e.resolve(a):c.get("data/projects.json").success(function(a){d.set("projects",JSON.stringify(a.projects)),e.resolve(a.projects)})}else c.get("data/projects.json").success(function(a){e.resolve(a.projects)})},30),e.promise}}}]),angular.module("konczakpiotrcvApp").factory("jobs",["$q","$timeout","$http","localStorageService",function(a,b,c,d){return{getJobs:function(){var e=a.defer();return b(function(){if(d.isSupported){var a=d.get("jobs");a?e.resolve(a):c.get("data/jobs.json").success(function(a){d.set("jobs",JSON.stringify(a.jobs)),e.resolve(a.jobs)})}else c.get("data/jobs.json").success(function(a){e.resolve(a.jobs)})},30),e.promise}}}]),angular.module("konczakpiotrcvApp").controller("ProjectsCtrl",["$scope","projects",function(a,b){a.vo={projects:b}}]),angular.module("konczakpiotrcvApp").controller("NavigationCtrl",["$scope","$location","$translatePartialLoader","$translate",function(a,b,c,d){function e(){var a=i.indexOf(b.path());return 0>=a||a>=i.length?!1:!0}function f(){var a=i.indexOf(b.path());return 0>a||a>=i.length-1?!1:!0}function g(){var a=i.indexOf(b.path());0>a||a>=i.length||0!==a&&(a--,b.path(i[a]))}function h(){var a=i.indexOf(b.path());0>a||a>=i.length||a!==i.length-1&&(a++,b.path(i[a]))}a.vo={};var i=["/personalDetails","/education","/experiences","/projects","/skills","/todo","/allInOnePage"];a.vo.openPrevious=g,a.vo.openNext=h,a.vo.hasPrevious=e,a.vo.hasNext=f,c.addPart("navigation"),d.refresh()}]),angular.module("konczakpiotrcvApp").controller("TodoCtrl",["$scope","todos",function(a,b){a.vo={todos:b}}]),angular.module("konczakpiotrcvApp").factory("todo",["$q","$timeout","$http","localStorageService",function(a,b,c,d){return{getTodos:function(){var e=a.defer();return b(function(){if(d.isSupported){var a=d.get("todos");a?e.resolve(a):c.get("data/todo.json").success(function(a){d.set("todos",JSON.stringify(a.todos)),e.resolve(a.todos)})}else c.get("data/todo.json").success(function(a){e.resolve(a.todos)})},30),e.promise}}}]),angular.module("konczakpiotrcvApp").controller("FooterCtrl",["$scope","$translatePartialLoader","$translate","metadata",function(a,b,c,d){a.vo={version:null},d.getMetadata().then(function(b){a.vo.version=b.version}),b.addPart("footer"),c.refresh()}]),angular.module("konczakpiotrcvApp").factory("metadata",["$q","$timeout","$http",function(a,b,c){return{getMetadata:function(){var d=a.defer();return b(function(){c.get("data/metadata.json").success(function(a){d.resolve(a)})},30),d.promise}}}]),angular.module("konczakpiotrcvApp").controller("HeadingCtrl",["$rootScope","$scope","$translatePartialLoader","$translate","momentService","metadata",function(a,b,c,d,e,f){function g(){b.vo.updatedAt=e(h,"DD/MM/YYYY").format("dddd, Do MMMM YYYY")}var h=null;b.vo={updatedAt:null},a.$on("$translateChangeEnd",function(){g()}),f.getMetadata().then(function(a){h=a.date,g()}),c.addPart("heading"),d.refresh()}]),angular.module("konczakpiotrcvApp").factory("customStorage",["$cookies",function(a){return{put:function(b,c){a.NG_TRANSLATE_LANG_KEY=c},get:function(){return a.NG_TRANSLATE_LANG_KEY}}}]),angular.module("konczakpiotrcvApp").factory("momentService",["$cookies",function(a){function b(a){return 5>a%10&&a%10>1&&~~(a/10)%10!==1}function c(a,c,d){var e=a+" ";switch(d){case"m":return c?"minuta":"minutę";case"mm":return e+(b(a)?"minuty":"minut");case"h":return c?"godzina":"godzinę";case"hh":return e+(b(a)?"godziny":"godzin");case"MM":return e+(b(a)?"miesiące":"miesięcy");case"yy":return e+(b(a)?"lata":"lat")}}var d=moment;d.defineLocale("en-gb",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(a){var b=a%10,c=1===~~(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+c},week:{dow:1,doy:4}});var e="styczeń_luty_marzec_kwiecień_maj_czerwiec_lipiec_sierpień_wrzesień_październik_listopad_grudzień".split("_"),f="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_września_października_listopada_grudnia".split("_");return d.defineLocale("pl",{months:function(a,b){return/D MMMM/.test(b)?f[a.month()]:e[a.month()]},monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_paź_lis_gru".split("_"),weekdays:"niedziela_poniedziałek_wtorek_środa_czwartek_piątek_sobota".split("_"),weekdaysShort:"nie_pon_wt_śr_czw_pt_sb".split("_"),weekdaysMin:"N_Pn_Wt_Śr_Cz_Pt_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Dziś o] LT",nextDay:"[Jutro o] LT",nextWeek:"[W] dddd [o] LT",lastDay:"[Wczoraj o] LT",lastWeek:function(){switch(this.day()){case 0:return"[W zeszłą niedzielę o] LT";case 3:return"[W zeszłą środę o] LT";case 6:return"[W zeszłą sobotę o] LT";default:return"[W zeszły] dddd [o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",m:c,mm:c,h:c,hh:c,d:"1 dzień",dd:"%d dni",M:"miesiąc",MM:c,y:"rok",yy:c},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),d.locale(a.NG_TRANSLATE_LANG_KEY?a.NG_TRANSLATE_LANG_KEY:"en-gb"),d}]);